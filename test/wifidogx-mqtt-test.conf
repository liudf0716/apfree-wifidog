# ApFree WiFiDog MQTT Testing Configuration
# Purpose: Test MQTT functionality without firewall rule activation
# Key Settings:
#   - AuthServerMode 1: Enables bypass mode (no firewall rules installed)
#   - DisablePortalAuth 1: Disables portal authentication completely
#   - External Interface: lo (loopback) for isolated local testing

# External interface (WAN) - use loopback for testing
ExternalInterface lo

# Authentication mode: 1 = bypass mode (no firewall rules)
AuthServerMode 1

# Device identification
DeviceID AW110101100551

# Disable portal authentication entirely
DisablePortalAuth 1

# MQTT Server Configuration - connects to local mosquitto broker
mqtt {
    serveraddr 172.19.0.1
    serverport 1883
    mqttUsername apfree
    mqttPassword apfree
}

# Timing Configuration
CheckInterval 30
ClientTimeout 300

# Authentication Server (required by configuration parser)
# Since AuthServerMode=1, this is NOT used but still required
AuthServer {
    hostname 127.0.0.1
    httpport 8001
    path /wifidog/
}

# Gateway Network Settings
# All traffic on the gateway interface (lo) will be monitored
GatewaySetting {
    GatewayAuthEnabled 0
    GatewayInterface lo
    GatewayChannel apfree
    GatewayID AA00FF001122
    GatewaySubnetV4 192.168.100.1/24
}
